---
jupyter:
  jupytext:
    text_representation:
      extension: .md
      format_name: markdown
      format_version: '1.3'
      jupytext_version: 1.14.4
  kernelspec:
    display_name: C++
    language: c++
    name: xcpp11
---

---
Created time: 2025-04-01T15:46
åŠ å…¥å¸¦èƒŒ: true
jupyter:
  jupytext:
    cell_metadata_filter: language,-all
    formats: md,ipynb
    main_language: c++
    text_representation:
      extension: .md
      format_name: markdown
      format_version: '1.3'
      jupytext_version: 1.14.7
---
å¾ˆå¥½ï¼è¿™ä¸ªé—®é¢˜æ˜¯ C/C++ ä¸­çš„åŸºç¡€ç±»å‹é—®é¢˜ï¼Œå¿…é¡»ææ¸…æ¥šã€‚
---
## ğŸ¯ ä»€ä¹ˆæ˜¯ `size_t`ï¼Ÿ
`size_t` æ˜¯ C/C++ æ ‡å‡†åº“å®šä¹‰çš„ **æ— ç¬¦å·æ•´æ•°ç±»å‹**ï¼Œ**ä¸“é—¨ç”¨äºè¡¨ç¤º**ï¼š
- **å†…å­˜å¤§å°**
- **å®¹å™¨å¤§å°**
- **æ•°ç»„ä¸‹æ ‡**
- **å¯¹è±¡å¤§å°**
---
## ğŸ“„ å®šä¹‰
åœ¨ C++ ä¸­ï¼Œå®ƒé€šå¸¸æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š


```
typedef unsigned long size_t;    // 64ä½ç³»ç»Ÿ
typedef unsigned int size_t;     // 32ä½ç³»ç»Ÿ
```

ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒæœ¬è´¨ä¸Šå°±æ˜¯ **å¹³å°ç›¸å…³çš„æ— ç¬¦å·æ•´æ•°ç±»å‹**ã€‚
|   |   |
|---|---|
|å¹³å°|size_t å¤§å°|
|32ä½|4å­—èŠ‚ (`unsigned int`)|
|64ä½|8å­—èŠ‚ (`unsigned long`)|
---
## âœ… ä¸»è¦ç”¨é€”
|   |   |
|---|---|
|ç”¨é€”|ç¤ºä¾‹|
|**è¡¨ç¤ºå†…å­˜æˆ–å®¹å™¨å¤§å°**|`std::vector<int>::size()` è¿”å› `size_t`|
|**è¡¨ç¤ºæ•°ç»„ä¸‹æ ‡**|`for (size_t i = 0; i < n; ++i)`|
|**è¡¨ç¤ºå­—èŠ‚æ•°**|`sizeof()` è¿ç®—ç¬¦è¿”å› `size_t`|
|**å†…å­˜æ“ä½œ**|`memset(ptr, 0, sizeof(obj));` ä¸­çš„ `sizeof` æ˜¯ `size_t`|
---
## ğŸ”¥ ä¾‹å­


```
\#include <iostream>
\#include <vector>
int main() {
    size_t n = 10; // æ— ç¬¦å·æ•´æ•°
    std::vector<int> v(n);
    std::cout << "Vector size: " << v.size() << "\n";  // è¿”å›å€¼ç±»å‹æ˜¯ size_t
}
```

---
## ğŸš¨ æ³¨æ„äº‹é¡¹
|   |   |
|---|---|
|æ³¨æ„|è¯´æ˜|
|**æ˜¯æ— ç¬¦å·ç±»å‹**|ä¸èƒ½ç”¨äºå’Œè´Ÿæ•°æ¯”è¾ƒï¼Œé¿å… `i >= 0` ç­‰é”™è¯¯|
|**è·¨å¹³å°å¤§å°ä¸åŒ**|32ä½ç³»ç»Ÿæ˜¯ 4å­—èŠ‚ï¼Œ64ä½æ˜¯ 8å­—èŠ‚ï¼Œä½†å†™ä»£ç æ—¶æ— éœ€å…³å¿ƒ|
|**å’Œ** `**int**` **æ¯”è¾ƒéœ€å°å¿ƒ**|é¿å… signed/unsigned mismatch è­¦å‘Š|
---
## ğŸ“ å­¦ä¹ ç¬”è®°æ¨¡æ¿
```Plain
# size_t ç¬”è®°
âœ… å®šä¹‰ï¼š
- æ— ç¬¦å·æ•´æ•°ç±»å‹
- ç”¨äºè¡¨ç¤ºå¯¹è±¡æˆ–å®¹å™¨çš„å¤§å°
ğŸ“Œ æ¥æºï¼š
typedef unsigned long size_t;
ğŸ¯ ç”¨é€”ï¼š
- sizeof æ“ä½œç¬¦è¿”å›å€¼
- vector.size()ã€string.length() è¿”å›å€¼
- å†…å­˜æ“ä½œå‚æ•° (å¦‚ memset, memcpy)
âš ï¸ æ³¨æ„ï¼š
- æ˜¯æ— ç¬¦å·ç±»å‹ (>=0)
- ä¸è¦ä¸ int æ··ç”¨æ¯”è¾ƒ
```
---
å¦‚æœä½ æƒ³ï¼Œæˆ‘å¯ä»¥å¸®ä½ æ•´ç†ä¸€å¥— **size_t å¸¸è§é™·é˜± & é¢è¯•é¢˜**ï¼Œå¸®ä½ å¿«é€ŸæŒæ¡å®ƒåœ¨å®é™…é¡¹ç›®ä¸­çš„æ³¨æ„äº‹é¡¹ã€‚è¦ä¸è¦ï¼Ÿ
å¾ˆå¥½ï¼è¿™ä¸ªé—®é¢˜æ˜¯ C/C++ ä¸­çš„åŸºç¡€ç±»å‹é—®é¢˜ï¼Œå¿…é¡»ææ¸…æ¥šã€‚
---
## ğŸ¯ ä»€ä¹ˆæ˜¯ `size_t`ï¼Ÿ
`size_t` æ˜¯ C/C++ æ ‡å‡†åº“å®šä¹‰çš„ **æ— ç¬¦å·æ•´æ•°ç±»å‹**ï¼Œ**ä¸“é—¨ç”¨äºè¡¨ç¤º**ï¼š
- **å†…å­˜å¤§å°**
- **å®¹å™¨å¤§å°**
- **æ•°ç»„ä¸‹æ ‡**
- **å¯¹è±¡å¤§å°**
---
## ğŸ“„ å®šä¹‰
åœ¨ C++ ä¸­ï¼Œå®ƒé€šå¸¸æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š


```
typedef unsigned long size_t;    // 64ä½ç³»ç»Ÿ
typedef unsigned int size_t;     // 32ä½ç³»ç»Ÿ
```

ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒæœ¬è´¨ä¸Šå°±æ˜¯ **å¹³å°ç›¸å…³çš„æ— ç¬¦å·æ•´æ•°ç±»å‹**ã€‚
|   |   |
|---|---|
|å¹³å°|size_t å¤§å°|
|32ä½|4å­—èŠ‚ (`unsigned int`)|
|64ä½|8å­—èŠ‚ (`unsigned long`)|
---
## âœ… ä¸»è¦ç”¨é€”
|   |   |
|---|---|
|ç”¨é€”|ç¤ºä¾‹|
|**è¡¨ç¤ºå†…å­˜æˆ–å®¹å™¨å¤§å°**|`std::vector<int>::size()` è¿”å› `size_t`|
|**è¡¨ç¤ºæ•°ç»„ä¸‹æ ‡**|`for (size_t i = 0; i < n; ++i)`|
|**è¡¨ç¤ºå­—èŠ‚æ•°**|`sizeof()` è¿ç®—ç¬¦è¿”å› `size_t`|
|**å†…å­˜æ“ä½œ**|`memset(ptr, 0, sizeof(obj));` ä¸­çš„ `sizeof` æ˜¯ `size_t`|
---
## ğŸ”¥ ä¾‹å­


```
\#include <iostream>
\#include <vector>
int main() {
    size_t n = 10; // æ— ç¬¦å·æ•´æ•°
    std::vector<int> v(n);
    std::cout << "Vector size: " << v.size() << "\n";  // è¿”å›å€¼ç±»å‹æ˜¯ size_t
}
```

---
## ğŸš¨ æ³¨æ„äº‹é¡¹
|   |   |
|---|---|
|æ³¨æ„|è¯´æ˜|
|**æ˜¯æ— ç¬¦å·ç±»å‹**|ä¸èƒ½ç”¨äºå’Œè´Ÿæ•°æ¯”è¾ƒï¼Œé¿å… `i >= 0` ç­‰é”™è¯¯|
|**è·¨å¹³å°å¤§å°ä¸åŒ**|32ä½ç³»ç»Ÿæ˜¯ 4å­—èŠ‚ï¼Œ64ä½æ˜¯ 8å­—èŠ‚ï¼Œä½†å†™ä»£ç æ—¶æ— éœ€å…³å¿ƒ|
|**å’Œ** `**int**` **æ¯”è¾ƒéœ€å°å¿ƒ**|é¿å… signed/unsigned mismatch è­¦å‘Š|
---
## ğŸ“ å­¦ä¹ ç¬”è®°æ¨¡æ¿
```Plain
# size_t ç¬”è®°
âœ… å®šä¹‰ï¼š
- æ— ç¬¦å·æ•´æ•°ç±»å‹
- ç”¨äºè¡¨ç¤ºå¯¹è±¡æˆ–å®¹å™¨çš„å¤§å°
ğŸ“Œ æ¥æºï¼š
typedef unsigned long size_t;
ğŸ¯ ç”¨é€”ï¼š
- sizeof æ“ä½œç¬¦è¿”å›å€¼
- vector.size()ã€string.length() è¿”å›å€¼
- å†…å­˜æ“ä½œå‚æ•° (å¦‚ memset, memcpy)
âš ï¸ æ³¨æ„ï¼š
- æ˜¯æ— ç¬¦å·ç±»å‹ (>=0)
- ä¸è¦ä¸ int æ··ç”¨æ¯”è¾ƒ
```
---
å¦‚æœä½ æƒ³ï¼Œæˆ‘å¯ä»¥å¸®ä½ æ•´ç†ä¸€å¥— **size_t å¸¸è§é™·é˜± & é¢è¯•é¢˜**ï¼Œå¸®ä½ å¿«é€ŸæŒæ¡å®ƒåœ¨å®é™…é¡¹ç›®ä¸­çš„æ³¨æ„äº‹é¡¹ã€‚è¦ä¸è¦ï¼Ÿ
